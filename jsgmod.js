/*========================================================================================
 ï¿½ï¿½ï¿½ï¿½ jsgmod.js (JavaScript Game MODule) ï¿½ï¿½ï¿½ï¿½
 
 ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½Ç—ï¿½ï¿½ï¿½Lï¿½[ï¿½ï¿½ï¿½Í“ï¿½ï¿½ï¿½ï¿½xï¿½ï¿½ï¿½ï¿½ï¿½éƒ‚ï¿½Wï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½Å‚ï¿½ï¿½B
==========================================================================================
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½è”ï¿½ê—— ï¿½ï¿½ï¿½ï¿½
----------------------------------------------------------------------------------------*/
var FPS = 30;            // Frames Per Second; 1 ï¿½bï¿½Ô‚Ìƒtï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½
var LOOP_INTERVAL = 17;  // <ï¿½~ï¿½ï¿½ï¿½b> ï¿½ï¿½ï¿½Cï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½vï¿½Nï¿½ï¿½ï¿½ÔŠuï¿½B(1000 / <FPS>) ï¿½ï¿½è¬ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
var KEY_CHARGE_DURATION = 7;  // <ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½> ï¿½Lï¿½[ï¿½ï¿½ï¿½sï¿½[ï¿½gï¿½Jï¿½nï¿½Ü‚Å‚Ìƒtï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½
var KEY_REPEAT_SPAN = 2;      // <ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½> ï¿½ï¿½ï¿½ÌƒLï¿½[ï¿½ï¿½ï¿½sï¿½[ï¿½gï¿½Ü‚Å‚Ìƒtï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½
/*
ï¿½ï¿½ ï¿½Lï¿½[ï¿½ï¿½ï¿½sï¿½[ï¿½g
 ï¿½Lï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÆƒLï¿½[ï¿½ï¿½ï¿½Aï¿½ï¿½ï¿½Å“ï¿½ï¿½Í‚ï¿½ï¿½ï¿½é‚±ï¿½Æ‚ï¿½ï¿½uï¿½Lï¿½[ï¿½ï¿½ï¿½sï¿½[ï¿½gï¿½vï¿½Æ‚ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½Bï¿½ï¿½ï¿½Æ‚ï¿½ï¿½ï¿½
 KEY_CHARGE_DURATION = 20, KEY_REPEAT_SPAN = 4 ï¿½Æ‚ï¿½ï¿½ï¿½ÎAï¿½Lï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½nï¿½ß‚ï¿½ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ÆAï¿½ï¿½ï¿½ï¿½
 ï¿½ï¿½ï¿½ç”ï¿½ï¿½ï¿½ï¿½ 20, 24, 28, 32, ï¿½c ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ÌŠÔ‰ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Æ‚ï¿½ï¿½É“ï¿½ï¿½Í‚ğ‘—‚ï¿½( IsInputting ï¿½ï¿½ true
 ï¿½ï¿½Ô‚ï¿½)ï¿½æ‚¤ï¿½É‚È‚ï¿½Ü‚ï¿½ï¿½B
*/
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½gï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½

 Javascript ï¿½Åƒtï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½sï¿½ï¿½ï¿½ï¿½ï¿½Wï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½Å‚ï¿½ï¿½Bï¿½{ï¿½ï¿½ï¿½Wï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½Ì“Ç‚İï¿½ï¿½İŒï¿½ï¿½ï¿½ Setup() (ï¿½Nï¿½ï¿½ï¿½ï¿½
 ï¿½ï¿½ 1 ï¿½ñ‚¾‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é‰ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½)ï¿½ï¿½ Main() (ï¿½ï¿½ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½sï¿½ï¿½ï¿½ï¿½éˆï¿½ï¿½)ï¿½ï¿½ï¿½`ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½B
 ï¿½Ü‚ï¿½ï¿½Abody ï¿½^ï¿½Oï¿½ï¿½ onLoad ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½ï¿½ï¿½ï¿½ Execute() ï¿½ï¿½ï¿½Ä‚Ñoï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½B

ï¿½ï¿½ HTML ï¿½tï¿½@ï¿½Cï¿½ï¿½ï¿½Ìƒ\ï¿½[ï¿½Xï¿½Ì—ï¿½
 <html>
  <head>
   <script type="text/javascript" src="jsgmod.js"></script>
   <script type="text/javascript" src="my_sccript.js"></script>
  </head>
  <body onLoad="Execute()">
   ï¿½{ï¿½ï¿½
  </body>
 </html>

------------------------------------------------------------------------------------------
ï¿½ï¿½ ï¿½Lï¿½[ï¿½ï¿½ï¿½ï¿½
 PressedDuration(keyName)         ï¿½Lï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©
 IsPressed(keyName)               ï¿½Lï¿½[ï¿½Í“ï¿½ï¿½ÍŠJï¿½nï¿½ï¿½ï¿½?
 IsHolded(keyName)                ï¿½Lï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½?
 IsInputting(keyName)             ï¿½Lï¿½[ï¿½Í“ï¿½ï¿½Í‚ï¿½^ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½?

ï¿½ï¿½ ï¿½Xï¿½Nï¿½ï¿½ï¿½vï¿½gï¿½ì¬ï¿½Eï¿½fï¿½oï¿½bï¿½O
 p(value, variableName)             ï¿½Rï¿½ï¿½ï¿½\ï¿½[ï¿½ï¿½ï¿½É•\ï¿½ï¿½
 InitArg(variable, defaultValue)    ï¿½ï¿½`ï¿½Ï‚Ì’lï¿½ï¿½ï¿½fï¿½tï¿½Hï¿½ï¿½ï¿½gï¿½lï¿½ï¿½ï¿½æ“¾

ï¿½ï¿½ ï¿½\ï¿½ï¿½
 Say(textBoxName, text)           ï¿½eï¿½Lï¿½Xï¿½gï¿½Ì•\ï¿½ï¿½
 SetImage(imageId, src)           ï¿½æ‘œï¿½Ì•\ï¿½ï¿½

ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½
 EHour()                          ï¿½oï¿½ßï¿½ï¿½Ô‚Ìuï¿½ï¿½ï¿½Ôvï¿½ï¿½ï¿½æ“¾
 EMin()                           ï¿½oï¿½ßï¿½ï¿½Ô‚Ìuï¿½ï¿½ï¿½vï¿½ï¿½ï¿½æ“¾
 ESec()                           ï¿½oï¿½ßï¿½ï¿½Ô‚Ìuï¿½bï¿½vï¿½ï¿½ï¿½æ“¾
 EMSec()                          ï¿½oï¿½ßï¿½ï¿½Ô‚Ìuï¿½~ï¿½ï¿½ï¿½bï¿½vï¿½ï¿½ï¿½æ“¾
 ETime()                          ï¿½oï¿½ßï¿½ï¿½Ô‚ï¿½ï¿½ï¿½bï¿½ï¿½ï¿½Åæ“¾
 EtStr(hLength=2, hDelim=':', mDelim=':', sDelim='', msLength=0)
                                  ï¿½oï¿½ßï¿½ï¿½Ô‚ğ•¶ï¿½ï¿½ï¿½É•ÏŠï¿½ï¿½ï¿½ï¿½Äæ“¾

ï¿½ï¿½ ï¿½ï¿½ï¿½lï¿½ï¿½ï¿½ï¿½
 Round(n, place=0)                ï¿½ï¿½ï¿½ï¿½ï¿½_ï¿½Ìwï¿½ï¿½Ê‚Ålï¿½ÌŒÜ“ï¿½
 Floor(n, place=0)                ï¿½ï¿½ï¿½ï¿½ï¿½_ï¿½Ìwï¿½ï¿½Ê‚ÅØ‚ï¿½Ì‚ï¿½
 Ceil(n, place=0)                 ï¿½ï¿½ï¿½ï¿½ï¿½_ï¿½Ìwï¿½ï¿½Ê‚ÅØ‚ï¿½ã‚°
 Justify(n)                       ï¿½Û‚ßŒë·ï¿½ÌCï¿½ï¿½
 Rand(n=0, times=0)               ï¿½ï¿½ï¿½ï¿½ï¿½Ìï¿½ï¿½ï¿½

ï¿½ï¿½ ï¿½Nï¿½bï¿½Lï¿½[
 Save(name, value, expireDays)    ï¿½Nï¿½bï¿½Lï¿½[ï¿½ÖƒZï¿½[ï¿½u
 Load(name)                       ï¿½Nï¿½bï¿½Lï¿½[ï¿½ï¿½ï¿½çƒï¿½[ï¿½h

ï¿½ï¿½ ï¿½Nï¿½ï¿½
 Execute()                        ï¿½Nï¿½ï¿½( body ï¿½^ï¿½Oï¿½ï¿½ onLoad ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½ï¿½ï¿½ï¿½Ä‚Ñoï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½)

ï¿½ï¿½ ï¿½Iï¿½uï¿½Wï¿½Fï¿½Nï¿½g
 Layer                            ï¿½ï¿½ï¿½Cï¿½ï¿½ï¿½[
   Show()                           ï¿½\ï¿½ï¿½
   Hide()                           ï¿½Bï¿½ï¿½
   MoveTo(x, y)                     ï¿½wï¿½ï¿½Ê’uï¿½ÉˆÚ“ï¿½
   MoveBy(dX, dY)                   ï¿½wï¿½ï¿½Ê‚ï¿½ï¿½ï¿½ï¿½Ú“ï¿½
   ResizeTo(width, height)          ï¿½Tï¿½Cï¿½Yï¿½ÏX
   ResizeBy(dWidth, dHeight)        ï¿½ï¿½ï¿½Î’lï¿½ï¿½ï¿½wï¿½è‚µï¿½ÄƒTï¿½Cï¿½Yï¿½ÏX
   Write(text, overwrites=true)     ï¿½eï¿½Lï¿½Xï¿½g( HTML ï¿½\ï¿½[ï¿½X)ï¿½Ì‹Lï¿½ï¿½

========================================================================================*/
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½Oï¿½ï¿½ï¿½[ï¿½oï¿½ï¿½ï¿½Ïï¿½ï¿½ê—— ï¿½ï¿½ï¿½ï¿½

 ï¿½Ö‹Xï¿½ï¿½Sï¿½ï¿½ï¿½Jï¿½Ïï¿½ï¿½Æ‚È‚ï¿½ï¿½Ä‚ï¿½ï¿½Ü‚ï¿½ï¿½ï¿½ï¿½Aï¿½ï¿½ï¿½Ìƒï¿½ï¿½Wï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½ï¿½Í’lï¿½ï¿½ÏXï¿½ï¿½ï¿½È‚ï¿½ï¿½Å‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½B
----------------------------------------------------------------------------------------*/
var gTimer;         // ï¿½ï¿½ï¿½Cï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½vï¿½Ìï¿½ï¿½ï¿½pï¿½^ï¿½Cï¿½}ï¿½[
var gStartTime;     // ï¿½Jï¿½nï¿½ï¿½ï¿½ï¿½
var gFrames;        // ï¿½oï¿½ßƒtï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½
var gInputs;        // [ï¿½`255] ï¿½eï¿½Lï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½
var gConsole;       // ï¿½Rï¿½ï¿½ï¿½\ï¿½[ï¿½ï¿½ï¿½Eï¿½Bï¿½ï¿½ï¿½hï¿½E
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½Lï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ìï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½
----------------------------------------------------------------------------------------*/
document.onkeydown = function(e){
  // Mozilla, Opera
  if(e != null){
    keyCode = e.which;
    // ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½ï¿½ï¿½sï¿½ï¿½hï¿½ï¿½
    e.preventDefault();
    e.stopPropagation();
  // Internet Explorer
  } else {
    keyCode = event.keyCode;
    // ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½ï¿½ï¿½sï¿½ï¿½hï¿½ï¿½
    event.returnValue = false;
    event.cancelBubble = true;
  }
  //ï¿½uï¿½Lï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½nï¿½ß‚ï¿½ï¿½vï¿½ï¿½ï¿½Æ‚Ì”ï¿½ï¿½f
  if(gInputs[keyCode] <= 0) gInputs[keyCode] = 0;
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½Lï¿½[ï¿½ğ—£‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ìï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½
----------------------------------------------------------------------------------------*/
document.onkeyup = function(e){
  // Mozilla, Opera
  if(e != null){
    keyCode = e.which;
    // ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½ï¿½ï¿½sï¿½ï¿½hï¿½ï¿½
    e.preventDefault();
    e.stopPropagation();
  // Internet Explorer
  } else {
    keyCode = event.keyCode;
    // ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½ï¿½ï¿½sï¿½ï¿½hï¿½ï¿½
    event.returnValue = false;
    event.cancelBubble = true;
  }
  //ï¿½uï¿½Lï¿½[ï¿½ğ—£‚ï¿½ï¿½ï¿½ï¿½vï¿½ï¿½ï¿½Æ‚Ì”ï¿½ï¿½f
  gInputs[keyCode] = -1;
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½Eï¿½Bï¿½ï¿½ï¿½hï¿½Eï¿½ï¿½ï¿½tï¿½Hï¿½[ï¿½Jï¿½Xï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ìï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½

 ï¿½Lï¿½[ï¿½ï¿½ï¿½Í‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½( onkeyup ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½È‚ï¿½ï¿½È‚é‚½ï¿½ï¿½)ï¿½B
----------------------------------------------------------------------------------------*/
window.onblur = function(){
  gInputs = []; for(var i = 0; i < 256; i++) gInputs.push(-1);
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½Lï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚© ï¿½ï¿½ï¿½ï¿½

 <keyName>ï¿½Åwï¿½è‚µï¿½ï¿½ï¿½Lï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ê‘±ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½Bï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ -1 ï¿½É‚È‚ï¿½Aï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
 ï¿½nï¿½ß‚ï¿½ÆÄ‚ï¿½ 0 ï¿½ï¿½ï¿½ï¿½Jï¿½Eï¿½ï¿½ï¿½gï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
----------------------------------------------------------------------------------------*/
function PressedDuration(keyName){
  return gInputs[ToKc(keyName)];
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½Lï¿½[ï¿½Í“ï¿½ï¿½ÍŠJï¿½nï¿½ï¿½ï¿½? ï¿½ï¿½ï¿½ï¿½

 <keyName>ï¿½Åwï¿½è‚µï¿½ï¿½ï¿½Lï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½nï¿½ß‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ“¾ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½Bï¿½ï¿½ï¿½ï¿½ï¿½ï¿½nï¿½ß‚ï¿½ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ true ï¿½ï¿½ï¿½
 ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B<keyName>ï¿½É•ï¿½ï¿½Ìï¿½ï¿½ï¿½ï¿½wï¿½ï¿½(ï¿½È—ï¿½ï¿½ï¿½)ï¿½ï¿½ï¿½ï¿½ÆAï¿½Ç‚ÌƒLï¿½[ï¿½É‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
----------------------------------------------------------------------------------------*/
function IsPressed(keyName){
  keyName = InitArg(keyName, -1);
  if(keyName < 0){
    for(i = 0; i < gInputs.length; i++){
      if(gInputs[i] == 1) return true;
    }
    return false;
  }
  return gInputs[ToKc(keyName)] == 1;
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½Lï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½? ï¿½ï¿½ï¿½ï¿½

 <keyName>ï¿½Åwï¿½è‚µï¿½ï¿½ï¿½Lï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½ï¿½ï¿½æ“¾ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½Bï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ç—£ï¿½ï¿½ï¿½Ü‚Å‚ÌŠï¿½ true ï¿½ï¿½Ô‚ï¿½
 ï¿½Ü‚ï¿½ï¿½B<keyName>ï¿½É•ï¿½ï¿½Ìï¿½ï¿½ï¿½ï¿½wï¿½ï¿½(ï¿½È—ï¿½ï¿½ï¿½)ï¿½ï¿½ï¿½ï¿½ÆAï¿½Ç‚ÌƒLï¿½[ï¿½É‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
----------------------------------------------------------------------------------------*/
function IsHolded(keyName){
  keyName = InitArg(keyName, -1);
  if(keyName < 0){
    for(i = 0; i < gInputs.length; i++){
      if(gInputs[i] > 0) return true;
    }
    return false;
  }
  return gInputs[ToKc(keyName)] > 0;
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½Lï¿½[ï¿½Í“ï¿½ï¿½Í‚ï¿½^ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½? ï¿½ï¿½ï¿½ï¿½

 <keyName>ï¿½Åwï¿½è‚µï¿½ï¿½ï¿½Lï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½Í‚ï¿½^ï¿½ï¿½ï¿½é‚©ï¿½ï¿½ï¿½æ“¾ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½Bï¿½Lï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½nï¿½ß‚ï¿½ï¿½ï¿½ï¿½ÆƒLï¿½[ï¿½ï¿½ï¿½sï¿½[ï¿½gï¿½Ìï¿½
 ï¿½ï¿½ï¿½Å‚ï¿½ï¿½ï¿½Îuï¿½ï¿½ï¿½Í‚ï¿½^ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½vï¿½ÆŒï¿½ï¿½È‚ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B<keyName>ï¿½É•ï¿½ï¿½Ìï¿½ï¿½ï¿½ï¿½wï¿½ï¿½(ï¿½È—ï¿½ï¿½ï¿½)ï¿½ï¿½ï¿½ï¿½ÆAï¿½Ç‚ï¿½
 ï¿½Lï¿½[ï¿½É‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
----------------------------------------------------------------------------------------*/
function IsInputting(keyName){
  keyName = InitArg(keyName, -1);
  if(keyName < 0){
    for(i = 0; i < gInputs.length; i++){
      if(gInputs[i] == 1) return true;
      if((gInputs[i] - KEY_CHARGE_DURATION - 1) % KEY_REPEAT_SPAN == 0) return true;
    }
    return false;
  }
  var keyCode = ToKc(keyName);
  if(gInputs[keyCode] <= KEY_CHARGE_DURATION) return gInputs[keyCode] == 1;
  return (gInputs[keyCode] - KEY_CHARGE_DURATION - 1) % KEY_REPEAT_SPAN == 0;
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Lï¿½[ï¿½Rï¿½[ï¿½hï¿½É•ÏŠï¿½ï¿½ï¿½ï¿½ï¿½ ( TO KeyCode ) ï¿½ï¿½ï¿½ï¿½

 <keyString>ï¿½Åwï¿½è‚µï¿½ï¿½ï¿½Lï¿½[ï¿½ÌƒRï¿½[ï¿½hï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½B<keyString>ï¿½É‘Î‰ï¿½ï¿½ï¿½ï¿½ï¿½Lï¿½[ï¿½ï¿½ï¿½È‚ï¿½ï¿½ê‡ï¿½ï¿½ 0 ï¿½ï¿½ï¿½
 ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½Bï¿½ï¿½ï¿½ï¿½ï¿½ÌƒLï¿½[ï¿½Rï¿½[ï¿½hï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Lï¿½[(ï¿½ï¿½ï¿½Æ‚ï¿½ï¿½Îï¿½ï¿½ï¿½ï¿½ï¿½ '0' ï¿½ÌƒLï¿½[ï¿½Rï¿½[ï¿½hï¿½ï¿½ 48 ï¿½ï¿½ 96 (ï¿½eï¿½ï¿½ï¿½Lï¿½[))
 ï¿½Ìê‡ï¿½ÍAï¿½ï¿½\ï¿½ï¿½ï¿½ï¿½ 1 ï¿½Â‚ÌƒRï¿½[ï¿½hï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½B
----------------------------------------------------------------------------------------*/
function ToKc(keyString){
  switch(keyString){
  case 'Break':      return   3; break;
  case 'BackSpace':  return   8; break;
  case 'Tab':        return   9; break;
  case 'Enter':      return  13; break;
  case 'Shift':      return  16; break;
  case 'Ctrl':       return  17; break;
  case 'Alt':        return  18; break;
  case 'Pause':      return  19; break;
  case 'Esc':        return  27; break;
  case 'Space':      return  32; break;
  case 'PageUp':     return  33; break;
  case 'PageDown':   return  34; break;
  case 'End':        return  35; break;
  case 'Home':       return  36; break;
  case 'Left':       return  37; break;
  case 'Up':         return  38; break;
  case 'Right':      return  39; break;
  case 'Down':       return  40; break;
  case 'Insert':     return  45; break;
  case 'Delete':     return  46; break;
  case '0':          return  48; break;
  case '1':          return  49; break;
  case '2':          return  50; break;
  case '3':          return  51; break;
  case '4':          return  52; break;
  case '5':          return  53; break;
  case '6':          return  54; break;
  case '7':          return  55; break;
  case '8':          return  56; break;
  case '9':          return  57; break;
  case 'A':          return  65; break;
  case 'B':          return  66; break;
  case 'C':          return  67; break;
  case 'D':          return  68; break;
  case 'E':          return  69; break;
  case 'F':          return  70; break;
  case 'G':          return  71; break;
  case 'H':          return  72; break;
  case 'I':          return  73; break;
  case 'J':          return  74; break;
  case 'K':          return  75; break;
  case 'L':          return  76; break;
  case 'M':          return  77; break;
  case 'N':          return  78; break;
  case 'O':          return  79; break;
  case 'P':          return  80; break;
  case 'Q':          return  81; break;
  case 'R':          return  82; break;
  case 'S':          return  83; break;
  case 'T':          return  84; break;
  case 'U':          return  85; break;
  case 'V':          return  86; break;
  case 'W':          return  87; break;
  case 'X':          return  88; break;
  case 'Y':          return  89; break;
  case 'Z':          return  90; break;
  case 'Windows':    return  91; break;
  case 'Menu':       return  93; break;
  case '*':          return 106; break;
  case '+':          return 107; break;
  case 'F1':         return 112; break;
  case 'F2':         return 113; break;
  case 'F3':         return 114; break;
  case 'F4':         return 115; break;
  case 'F5':         return 116; break;
  case 'F6':         return 117; break;
  case 'F7':         return 118; break;
  case 'F8':         return 119; break;
  case 'F9':         return 120; break;
  case 'F10':        return 121; break;
  case 'F11':        return 122; break;
  case 'F12':        return 123; break;
  case 'NumLock':    return 144; break;
  case 'ScrollLock': return 145; break;
  case ':':          return 186; break;
  case ';':          return 187; break;
  case ',':          return 188; break;
  case '-':          return 189; break;
  case '.':          return 190; break;
  case '/':          return 191; break;
  case '@':          return 192; break;
  case '[':          return 219; break;
  case '\\':         return 220; break;
  case ']':          return 221; break;
  case '^':          return 222; break;
  default:           return   0; break;
  }
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½Rï¿½ï¿½ï¿½\ï¿½[ï¿½ï¿½ï¿½É•\ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½

 ï¿½Rï¿½ï¿½ï¿½\ï¿½[ï¿½ï¿½ï¿½ï¿½<value>ï¿½Ì“ï¿½ï¿½eï¿½ï¿½\ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B<variableName>ï¿½É•Ïï¿½ï¿½ï¿½ï¿½ğ•¶ï¿½ï¿½ï¿½Åwï¿½è‚·ï¿½ï¿½ÆAï¿½Ïï¿½ï¿½ï¿½
 ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é‚½ï¿½ß‚ï¿½èŒ©ï¿½â‚·ï¿½ï¿½ï¿½È‚ï¿½Ü‚ï¿½ï¿½B

 var a = [1, 2, 3];
 p(a);       // => 1,2,3
 p(a, "a");  // => <a> = 1,2,3
----------------------------------------------------------------------------------------*/
function p(value, variableName){
  // ï¿½Rï¿½ï¿½ï¿½\ï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½Jï¿½ï¿½ï¿½Ä‚ï¿½ï¿½È‚ï¿½ï¿½ê‡ï¿½ÍŠJï¿½ï¿½
  if(typeof gConsole === 'undefined') openConsole();
  else if(gConsole.closed) openConsole();
  // ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ì•ÏŠï¿½
  value = "" + value;  // ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
  value = value.replace(/</g, '&lt;');
  value = value.replace(/>/g, '&gt;');
  if(typeof variableName !== 'undefined'){
    variableName = "" + variableName;  // ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
    variableName = variableName.replace(/</g, '&lt;');
    variableName = variableName.replace(/>/g, '&gt;');
  }
  // ï¿½Rï¿½ï¿½ï¿½\ï¿½[ï¿½ï¿½ï¿½É•\ï¿½ï¿½
  if(typeof variableName !== 'undefined'){
    gConsole.document.write('&lt;' + variableName + '&gt; = ');
  }
  gConsole.document.write(value + '<br>');
  // ï¿½Å‰ï¿½ï¿½[ï¿½ÖƒXï¿½Nï¿½ï¿½ï¿½[ï¿½ï¿½
  gConsole.scroll(0, 16777215);
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½Rï¿½ï¿½ï¿½\ï¿½[ï¿½ï¿½ï¿½Eï¿½Bï¿½ï¿½ï¿½hï¿½Eï¿½ÌŠJï¿½n ï¿½ï¿½ï¿½ï¿½

 ï¿½Rï¿½ï¿½ï¿½\ï¿½[ï¿½ï¿½ï¿½Eï¿½Bï¿½ï¿½ï¿½hï¿½Eï¿½ï¿½ï¿½Jï¿½ï¿½ï¿½Ü‚ï¿½ï¿½Bp ï¿½ï¿½ï¿½Å•Kï¿½vï¿½É‰ï¿½ï¿½ï¿½ï¿½Äï¿½ï¿½ï¿½ï¿½Iï¿½ÉŠJï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
----------------------------------------------------------------------------------------*/
function openConsole(){
  var cwOptions = 'width=480, height=160, menubar=no, toolbar=no, scrollbars=yes';
  var cwStyle = '<span style="font-size:8pt;font-family:ï¿½lï¿½r ï¿½Sï¿½Vï¿½bï¿½N,monospace">';
  gConsole = window.open('about:blank', 'console', cwOptions);
  gConsole.document.write(cwStyle);
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½`ï¿½Ï‚Ì’lï¿½ï¿½ï¿½fï¿½tï¿½Hï¿½ï¿½ï¿½gï¿½lï¿½ï¿½ï¿½æ“¾ ( INITialize ARGument ) ï¿½ï¿½ï¿½ï¿½

 <variable>ï¿½É’lï¿½ï¿½ï¿½ï¿½`ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½È‚ï¿½ï¿½ê‡ï¿½Íƒfï¿½tï¿½Hï¿½ï¿½ï¿½gï¿½lï¿½Æ‚ï¿½ï¿½ï¿½<defaultValue>ï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½B
----------------------------------------------------------------------------------------*/
function InitArg(variable, defaultValue){
  return (typeof variable === 'undefined') ? defaultValue : variable;
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½eï¿½Lï¿½Xï¿½gï¿½Ì•\ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½

 <textBoxId>ï¿½Åwï¿½è‚µï¿½ï¿½ ID ï¿½Ìƒeï¿½Lï¿½Xï¿½gï¿½{ï¿½bï¿½Nï¿½Xï¿½É•ï¿½ï¿½ï¿½<text>ï¿½ï¿½\ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
----------------------------------------------------------------------------------------*/
function Say(textBoxId, text){
  document.getElementById(textBoxId).value = text;
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½\ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½
----------------------------------------------------------------------------------------*/
function ShowImage(imageId){
  document.getElementById(imageId).style.display = "inline";
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½æ‘œï¿½Ì•\ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½

 <imageId>ï¿½Åwï¿½è‚µï¿½ï¿½ï¿½æ‘œï¿½ÌƒAï¿½hï¿½ï¿½ï¿½Xï¿½ï¿½<src>ï¿½É‚ï¿½ï¿½Ü‚ï¿½ï¿½Bï¿½Aï¿½hï¿½ï¿½ï¿½Xï¿½ï¿½ï¿½Ï‚ï¿½ï¿½È‚ï¿½ï¿½ï¿½Î‰ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½ï¿½B
----------------------------------------------------------------------------------------*/
function SetImage(imageId, src){
  if(document.getElementById(imageId).src != src){
    document.getElementById(imageId).src = src;
  }
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½oï¿½ßï¿½ï¿½Ô‚Ìwï¿½è‚³ï¿½ê‚½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ“¾ ( Elapsed HOURs/MINutes/SEConds/MilliSEConds ) ï¿½ï¿½ï¿½ï¿½

 ï¿½Nï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÌŒoï¿½ßï¿½ï¿½Ô‚Ì‚ï¿½ï¿½ï¿½ï¿½Aï¿½ï¿½ï¿½ï¿½/ï¿½ï¿½/ï¿½b/ï¿½~ï¿½ï¿½ï¿½b ï¿½Ì•ï¿½ï¿½ï¿½ï¿½Ì’lï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½Bï¿½oï¿½ßï¿½ï¿½Ô‚ÍŒoï¿½ßƒtï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½
 ï¿½ï¿½ï¿½ï¿½vï¿½Zï¿½ï¿½ï¿½ï¿½ï¿½lï¿½Å‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Û‚Ìï¿½ï¿½Ô‚É‘Î‚ï¿½ï¿½Ä‘ï¿½ï¿½ï¿½ï¿½ÌŒë·ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B

 ï¿½ï¿½ ï¿½Nï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ 1 ï¿½ï¿½ï¿½ï¿½ 23 ï¿½ï¿½ 45.678 ï¿½bï¿½ï¿½ï¿½oï¿½ß‚ï¿½ï¿½ï¿½ï¿½ê‡
 p(EHour());  // => 1
 p(EMin());   // => 23
 p(ESec());   // => 45
 p(EMSec());  // => 678
----------------------------------------------------------------------------------------*/
function EHour(){return Math.floor(gFrames / FPS / 3600); }
function EMin() {return Math.floor(gFrames / FPS / 60) % 60; }
function ESec() {return Math.floor(gFrames / FPS) % 60; }
function EMSec(){return Math.floor(gFrames / FPS * 1000) % 1000; }
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½oï¿½ßï¿½ï¿½Ô‚ï¿½bï¿½ï¿½ï¿½Åæ“¾ ( Elapsed TIME ) ï¿½ï¿½ï¿½ï¿½

 ï¿½Nï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÌŒoï¿½ßï¿½ï¿½Ô‚ï¿½bï¿½Pï¿½Ê‚Å•Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½Bï¿½ï¿½ï¿½ï¿½ï¿½_ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ô‚ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½BEHour() ï¿½ï¿½ï¿½Æ“ï¿½ï¿½lï¿½ÉAï¿½ï¿½ï¿½Û‚ï¿½
 ï¿½ï¿½ï¿½Ô‚É‘Î‚ï¿½ï¿½Ä‘ï¿½ï¿½ï¿½ï¿½ÌŒë·ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
----------------------------------------------------------------------------------------*/
function ETime(){
  return gFrames / FPS;
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½oï¿½ßï¿½ï¿½Ô‚ğ•¶ï¿½ï¿½ï¿½É•ÏŠï¿½ï¿½ï¿½ï¿½Äæ“¾ ( Elapsed Time STRing ) ï¿½ï¿½ï¿½ï¿½

 ï¿½Nï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÌŒoï¿½ßï¿½ï¿½Ô‚ï¿½ï¿½ï¿½Ê“Iï¿½Èï¿½ï¿½Ô•\ï¿½ï¿½ï¿½Å•Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½BEHour() ï¿½ï¿½ï¿½Æ“ï¿½ï¿½lï¿½ÉAï¿½ï¿½ï¿½Û‚Ìï¿½ï¿½Ô‚É‘Î‚ï¿½ï¿½Ä‘ï¿½
 ï¿½ï¿½ï¿½ÌŒë·ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B

 ï¿½ï¿½ ï¿½Nï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ 1 ï¿½ï¿½ï¿½ï¿½ 23 ï¿½ï¿½ 45 ï¿½bï¿½ï¿½ï¿½oï¿½ß‚ï¿½ï¿½ï¿½ï¿½ê‡
 p(EtStr());  // => '01:23:45'
------------------------------------------------------------------------------------------
 <hLength>(ï¿½È—ï¿½ï¿½ï¿½ 2 )ï¿½Åï¿½ï¿½Ô‚ÌŒï¿½ï¿½ï¿½ï¿½ï¿½ï¿½wï¿½è‚µï¿½Ü‚ï¿½ï¿½Bï¿½ï¿½ï¿½ÌŒï¿½ï¿½ï¿½ï¿½É‘ï¿½ï¿½ï¿½È‚ï¿½ï¿½ï¿½ÎAï¿½ó‚¢‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ 0 ï¿½ï¿½
 ï¿½ï¿½ï¿½ß‚Ü‚ï¿½ï¿½Bï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è‘½ï¿½ï¿½ï¿½ê‡ï¿½ÍAï¿½ï¿½ï¿½Ô‚Ì•ï¿½ï¿½ï¿½ï¿½Í‚ï¿½ï¿½Ì‚Ü‚Ü‚É‚ï¿½ï¿½Ü‚ï¿½ï¿½B

 ï¿½ï¿½ ï¿½Nï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ 10 ï¿½ï¿½ï¿½Ô‚ï¿½ï¿½oï¿½ß‚ï¿½ï¿½ï¿½ï¿½ê‡
 p(EtStr(4));  // => '0010:00:00'
 p(EtStr(3));  // => '010:00:00'
 p(EtStr(2));  // => '10:00:00'
 p(EtStr(1));  // => '10:00:00'
------------------------------------------------------------------------------------------
 <hDelim>(ï¿½È—ï¿½ï¿½ï¿½ ':' ), <mDelim>(ï¿½È—ï¿½ï¿½ï¿½ ':' ), <sDelim>(ï¿½È—ï¿½ï¿½ï¿½ '' )ï¿½Í‚ï¿½ï¿½ê‚¼ï¿½êï¿½ÔAï¿½ï¿½ï¿½Aï¿½b
 ï¿½Ì‹ï¿½Ø‚ï¿½Lï¿½ï¿½( Hour/Minute/Second DELIMiter )ï¿½Å‚ï¿½ï¿½B

 ï¿½ï¿½ ï¿½Nï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ 1 ï¿½ï¿½ï¿½ï¿½ 23 ï¿½ï¿½ 45 ï¿½bï¿½ï¿½ï¿½oï¿½ß‚ï¿½ï¿½ï¿½ï¿½ê‡
 p(EtStr(1, 'ï¿½ï¿½ï¿½ï¿½', 'ï¿½ï¿½', 'ï¿½b'));  // => '1ï¿½ï¿½ï¿½ï¿½23ï¿½ï¿½45ï¿½b'
------------------------------------------------------------------------------------------
 <msLength>(ï¿½È—ï¿½ï¿½ï¿½ 0 )ï¿½Å•bï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½_ï¿½ï¿½ï¿½Ê‚Ü‚Å•ï¿½ï¿½ï¿½ï¿½ï¿½É‚ï¿½ï¿½é‚©ï¿½ï¿½ï¿½wï¿½ï¿½Å‚ï¿½ï¿½Ü‚ï¿½ï¿½B

 ï¿½ï¿½ ï¿½Nï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ 1 ï¿½ï¿½ï¿½ï¿½ 23 ï¿½ï¿½ 45.666 ï¿½bï¿½ï¿½ï¿½oï¿½ß‚ï¿½ï¿½ï¿½ï¿½ê‡
 p(EtStr(undefined, undefined, undefined, undefined, 0));  // => '01:23:45'
 p(EtStr(undefined, undefined, undefined, '.', 1));        // => '01:23:45.6'
 p(EtStr(undefined, undefined, undefined, '.', 2));        // => '01:23:45.66'
 p(EtStr(undefined, undefined, undefined, '.', 3));        // => '01:23:45.666'
----------------------------------------------------------------------------------------*/
function EtStr(hLength, hDelim, mDelim, sDelim, msLength){
  hLength = InitArg(hLength, 2);
  hDelim = InitArg(hDelim, ':');
  mDelim = InitArg(mDelim, ':');
  sDelim = InitArg(sDelim, '');
  msLength = InitArg(msLength, 0);

  var result = '';
  for(var i = hLength - 1; i >= 1; i--){
    if(EHour() < Math.pow(10, i)) result += '0'
  }
  result += EHour() + hDelim;
  result += ('0' + EMin()).slice(-2) + mDelim;
  result += ('0' + ESec()).slice(-2) + sDelim;
  result += (('00' + EMSec()).slice(-3)).slice(0, msLength);
  return result;
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½_ï¿½Ìwï¿½ï¿½Ê‚Ålï¿½ÌŒÜ“ï¿½/ï¿½Ø‚ï¿½Ì‚ï¿½/ï¿½Ø‚ï¿½ã‚° ï¿½ï¿½ï¿½ï¿½

 ï¿½ï¿½ï¿½l<n>ï¿½ï¿½ï¿½lï¿½ÌŒÜ“ï¿½/ï¿½Ø‚ï¿½Ì‚ï¿½/ï¿½Ø‚ï¿½ã‚°ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
------------------------------------------------------------------------------------------
 <place>ï¿½ï¿½ 0 (ï¿½È—ï¿½ï¿½ï¿½)ï¿½È‚ç®ï¿½ï¿½ï¿½É‚È‚ï¿½æ‚¤ï¿½ÉAï¿½ï¿½ï¿½Ìï¿½ï¿½È‚ç¬ï¿½ï¿½ï¿½_ï¿½È‰ï¿½ï¿½ï¿½<place>ï¿½ï¿½ï¿½É‚È‚ï¿½æ‚¤ï¿½Éï¿½ï¿½ï¿½
 ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½Bï¿½ï¿½ï¿½Ìï¿½ï¿½ï¿½ï¿½wï¿½è‚·ï¿½ï¿½ï¿½ -<place>ï¿½ï¿½ï¿½Ú‚Ìï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B

 p(Round(1234.5678))      // => 1235
 p(Round(1234.5678, 2))   // => 1234.57
 p(Round(1234.5678, -2))  // => 1200
------------------------------------------------------------------------------------------
 ï¿½Û‚ßŒë·ï¿½ï¿½ Justify ï¿½É‚ï¿½ï¿½ï¿½Äï¿½ï¿½ï¿½ï¿½Cï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
----------------------------------------------------------------------------------------*/
function Round(n, place){
  place = InitArg(place, 0);
  return Justify(Math.round(n * Math.pow(10, place)) / Math.pow(10, place));
}
//----------------------------------------------------------------------------------------
function Floor(n, place){
  place = InitArg(place, 0);
  return Justify(Math.floor(n * Math.pow(10, place)) / Math.pow(10, place));
}
//----------------------------------------------------------------------------------------
function Ceil(n, place){
  place = InitArg(place, 0);
  return Justify(Math.ceil(n * Math.pow(10, place)) / Math.pow(10, place));
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½Û‚ßŒë·ï¿½ÌCï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½

 <n>ï¿½ÌŠÛ‚ßŒë·ï¿½ï¿½ï¿½Cï¿½ï¿½ï¿½ï¿½ï¿½Ä•Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½Bï¿½Û‚ßŒë·ï¿½Æ‚ÍAï¿½Rï¿½ï¿½ï¿½sï¿½ï¿½ï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½vï¿½Zï¿½ï¿½ï¿½ï¿½Æï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
 ï¿½ë·ï¿½Ì‚ï¿½ï¿½Æ‚Å‚ï¿½ï¿½B

 p(0.01 + 0.05);           // => 0.060000000000000005
 p(Justify(0.01 + 0.05));  // => 0.06
------------------------------------------------------------------------------------------
 ï¿½ï¿½Ì“Iï¿½É‚ÍAï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ 15 ï¿½ï¿½ï¿½É‚È‚ï¿½æ‚¤ï¿½Élï¿½ÌŒÜ“ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½Ü‚ï¿½ï¿½Bï¿½ï¿½ï¿½Æ‚ï¿½ï¿½Æ—Lï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ 16 ï¿½ï¿½ï¿½Èï¿½
 ï¿½Ìê‡ï¿½Aï¿½Ó}ï¿½ï¿½ï¿½È‚ï¿½ï¿½lï¿½Ì•Ï‰ï¿½ï¿½ï¿½ï¿½Nï¿½ï¿½ï¿½ï¿½Â”\ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
----------------------------------------------------------------------------------------*/
function Justify(n){
  // ï¿½ï¿½ï¿½å‚¤ï¿½ï¿½ 0 ï¿½È‚ç‚»ï¿½Ì‚Ü‚Ü•Ô‚ï¿½( log(0) ï¿½ï¿½ï¿½ï¿½`ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½È‚ï¿½ï¿½ï¿½ï¿½ï¿½)
  if(n == 0) return 0;
  // ï¿½ï¿½ï¿½Ìï¿½ï¿½É•ÏŠï¿½
  var pn = Math.abs(n);
  // 15 ï¿½ï¿½ï¿½Ìï¿½ï¿½ï¿½ï¿½É•â³
  var cl = Math.floor(Math.log(pn) / Math.LN10);  // Common Logarithm
  pn = Math.round(pn * Math.pow(10, 14 - cl));
  // ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
  var result = "" + pn;
  var zeros = "";
  // ï¿½Kï¿½Ø‚ÈˆÊ’uï¿½Éï¿½ï¿½ï¿½ï¿½_ï¿½ï¿½tï¿½ï¿½
  if(0 <= cl && cl <= 14){
    result = result.slice(0, cl + 1) + "." + result.slice(cl + 1);
  }else if(cl < 0){
    // ï¿½æ“ªï¿½Éu0.000ï¿½cï¿½vï¿½ï¿½tï¿½ï¿½
    for(var i = 0; i < Math.abs(cl) - 1; i++) zeros += "0";
    result = "0." + zeros + result;
  }else{
    // ï¿½ÅŒï¿½ï¿½ï¿½Éu000ï¿½cï¿½vï¿½ï¿½tï¿½ï¿½
    for(var i = 15; i < cl; i++) zeros += "0";
    result = result + zeros;
  }
  // ï¿½Ä‚Ñï¿½ï¿½lï¿½É–ß‚ï¿½ï¿½Ä•Ô‚ï¿½
  return parseFloat(result) * (n > 0 ? 1 : -1);
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½( RANDom number )ï¿½Ìï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½

 0 ï¿½Èï¿½<n>ï¿½ï¿½ï¿½ï¿½ï¿½Ì—ï¿½ï¿½ï¿½ï¿½ğ®ï¿½ï¿½Å•Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½B<n>ï¿½ï¿½ 0 (ï¿½È—ï¿½ï¿½ï¿½)ï¿½ï¿½ï¿½wï¿½è‚³ï¿½ê‚½ï¿½ê‡ï¿½ÍA0 ï¿½Èï¿½ 1 ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
 ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Å•Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½B
------------------------------------------------------------------------------------------
 <times>ï¿½ï¿½ 1 ï¿½Èï¿½Ìï¿½ï¿½ï¿½ï¿½ï¿½ï¿½wï¿½è‚µï¿½ï¿½ï¿½ê‡ï¿½ÍAï¿½dï¿½ï¿½ï¿½Ì‚È‚ï¿½ï¿½æ‚¤ï¿½ï¿½<times>ï¿½Â‚Ì—ï¿½ï¿½ï¿½ï¿½zï¿½ï¿½ï¿½ï¿½ì¬ï¿½ï¿½ï¿½Ä•Ô‚ï¿½
 ï¿½Ü‚ï¿½ï¿½B<times>ï¿½ï¿½<n>ï¿½ï¿½ï¿½å‚«ï¿½ï¿½ï¿½ê‡ï¿½ÍAï¿½dï¿½ï¿½ï¿½ï¿½ï¿½È‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½zï¿½ñ‚ªŒJï¿½ï¿½Ô‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B

 p(Rand(5, 2))   // => 4,2
 p(Rand(5, 5))   // => 2,0,3,1,4
 p(Rand(5, 15))  // => 1,2,0,3,4,2,1,0,4,3,0,1,4,3,2

 ï¿½ï¿½ ï¿½ï¿½ï¿½Ê‚ÍŒÄ‚Ñoï¿½ï¿½ï¿½ï¿½é‚²ï¿½Æ‚É•Ï‚ï¿½ï¿½Ü‚ï¿½ï¿½B
----------------------------------------------------------------------------------------*/
function Rand(n, times){
  n = InitArg(n, 0);
  times = InitArg(times, 0);

  if(times <= 0){
    // ï¿½lï¿½Å•Ô‚ï¿½
    if(n <= 0) return Math.random();
    return Math.floor(Math.random() * n);
  }else{
    // ï¿½zï¿½ï¿½Å•Ô‚ï¿½
    var result = [];
    var sequence;
    var choice;
    while(true){
      sequence = [];
      // ï¿½Aï¿½Ô”zï¿½ï¿½ï¿½ï¿½ì¬ï¿½ï¿½ï¿½ï¿½
      for(var i = 0; i < n; i++) sequence.push(i);
      // ï¿½Aï¿½Ô”zï¿½ñ‚©‚çƒ‰ï¿½ï¿½ï¿½_ï¿½ï¿½ï¿½Å”ï¿½ï¿½ï¿½ï¿½oï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½
      for(var i = 0; i < n; i++){
        choice = Math.floor(Math.random() * sequence.length);
        result.push(sequence[choice]);
        // ï¿½Kï¿½vï¿½ï¿½ï¿½É‚È‚ï¿½ï¿½ï¿½ï¿½ï¿½Iï¿½ï¿½
        if(result.length == times) return result;
        // ï¿½ï¿½ï¿½ï¿½ï¿½oï¿½ï¿½ï¿½ï¿½ï¿½vï¿½fï¿½ï¿½ï¿½íœ
        sequence = sequence.slice(0, choice).concat(sequence.slice(choice + 1));
      }
    }
  }
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½Nï¿½bï¿½Lï¿½[ï¿½ÖƒZï¿½[ï¿½u ï¿½ï¿½ï¿½ï¿½

 ï¿½Nï¿½bï¿½Lï¿½[( Cookie )ï¿½Éï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½İ‚Ü‚ï¿½ï¿½B<name>ï¿½É–ï¿½ï¿½Oï¿½A<value>ï¿½É’lï¿½A<expireDays>ï¿½É—Lï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
 ï¿½Ü‚Å‚Ì“ï¿½ï¿½ï¿½(ï¿½È—ï¿½ï¿½ï¿½ 7305 (ï¿½ï¿½ 20 ï¿½Nï¿½ï¿½))ï¿½ï¿½ï¿½ï¿½ï¿½ê‚¼ï¿½ï¿½wï¿½è‚µï¿½Ü‚ï¿½ï¿½Bï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Şƒfï¿½[ï¿½^ï¿½ï¿½
 ï¿½uï¿½ï¿½ï¿½O=ï¿½l; expires=ï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½ï¿½;ï¿½vï¿½Ì‚æ‚¤ï¿½Èï¿½ï¿½ï¿½ï¿½É‚È‚ï¿½Ü‚ï¿½ï¿½B
------------------------------------------------------------------------------------------
 ï¿½uï¿½ï¿½ï¿½Eï¿½Uï¿½ÅƒNï¿½bï¿½Lï¿½[ï¿½ÌŠï¿½ï¿½ï¿½ï¿½ï¿½gï¿½pï¿½Ö~ï¿½ï¿½ï¿½wï¿½è‚³ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ê‡ï¿½ÍAï¿½ï¿½ï¿½ï¿½ï¿½ç‚ªï¿½Dï¿½æ‚³ï¿½ï¿½ï¿½Ævï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
----------------------------------------------------------------------------------------*/
function Save(name, value, expireDays){
  expireDays = InitArg(expireDays, 7305);

  // ï¿½Û‘ï¿½ï¿½pï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ìì¬
  var s = encodeURIComponent(name) + "="
  s += encodeURIComponent(value) + "; expires=";
  // ï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ìİ’ï¿½
  var xpDate = new Date().getTime();  // eXPire DATE
  xpDate -= 60000 * new Date().getTimezoneOffset();
  xpDate += expireDays * 86400000;
  s += new Date(xpDate).toUTCString();
  // ï¿½Û‘ï¿½
  document.cookie = s;
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½Nï¿½bï¿½Lï¿½[ï¿½ï¿½ï¿½çƒï¿½[ï¿½h ï¿½ï¿½ï¿½ï¿½

 ï¿½Nï¿½bï¿½Lï¿½[ï¿½ï¿½Ç‚İï¿½ï¿½ï¿½ÅAï¿½ï¿½ï¿½O<name>ï¿½É‘Î‰ï¿½ï¿½ï¿½ï¿½ï¿½lï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½Bï¿½wï¿½è‚µï¿½ï¿½ï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½ï¿½ï¿½İ‚ï¿½ï¿½È‚ï¿½ï¿½ê‡ï¿½ï¿½
 <defaultValue>ï¿½ï¿½ï¿½Ô‚ï¿½Ü‚ï¿½ï¿½B
----------------------------------------------------------------------------------------*/
function Load(name, defaultValue){
  var cookieStr = document.cookie;  // COOKIE STRing
  var namePos = cookieStr.indexOf(name);  // NAME POSition
  if(namePos == -1) return defaultValue;

  var si = namePos + name.length + 1;   // Start Index
  var ei = cookieStr.indexOf(';', si);  // End Index
  ei = (ei == -1) ? cookieStr.length : ei;
  return decodeURIComponent(cookieStr.substring(si, ei));
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½Cï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½v ï¿½ï¿½ï¿½ï¿½

 1 ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½É‘ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½éï¿½ï¿½( 1 / <FPS> ï¿½b)ï¿½ï¿½ï¿½oï¿½ß‚ï¿½ï¿½ï¿½ï¿½ï¿½Aï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½sï¿½ï¿½ï¿½Ü‚ï¿½ï¿½Bï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÆŠï¿½
 ï¿½èï¿½ï¿½(ï¿½Lï¿½[ï¿½ï¿½ï¿½Í“ï¿½)ï¿½ÈŠOï¿½ÍŒï¿½ï¿½ï¿½ï¿½Æ‚ï¿½ï¿½Ä‚ï¿½ï¿½Ìƒï¿½ï¿½[ï¿½vï¿½ï¿½ï¿½Åï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
----------------------------------------------------------------------------------------*/
function MainLoop(){
  // ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½oï¿½ß”ï¿½ï¿½ï¿½
  // setInterval ï¿½Íï¿½ï¿½xï¿½ï¿½ï¿½á‚¢ï¿½Ì‚ÅAï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½oï¿½ß”ï¿½ï¿½ï¿½ï¿½Ê“rï¿½sï¿½ï¿½ï¿½Äï¿½ï¿½ÔŠÇ—ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½Ü‚ï¿½ï¿½B
  if(new Date() - gStartTime < 1000 / FPS * gFrames) return;
  gFrames++;
  // ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½Lï¿½[ï¿½ÌŠÇ—ï¿½
  for(var i = 0; i < 256; i++) if(gInputs[i] >= 0) gInputs[i]++;
  // ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Bï¿½Ä‚Ñoï¿½ï¿½ï¿½ï¿½ï¿½Å’ï¿½`ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
  Main();
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½

 ï¿½Ê‚Ìƒyï¿½[ï¿½Wï¿½ÉˆÚ‚ï¿½Æ‚ï¿½ï¿½ï¿½Aï¿½Â‚ï¿½ï¿½ï¿½Æ‚ï¿½ï¿½Éï¿½ï¿½ï¿½ï¿½Iï¿½Éï¿½ï¿½sï¿½ï¿½ï¿½ï¿½éˆï¿½ï¿½ï¿½Å‚ï¿½ï¿½B
----------------------------------------------------------------------------------------*/
window.onbeforeunload = function(){
  // ï¿½Rï¿½ï¿½ï¿½\ï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½Jï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½Î•Â‚ï¿½ï¿½ï¿½
  if(typeof gConsole !== 'undefined') if(!gConsole.closed) gConsole.close();
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½Nï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½

 ï¿½Åï¿½ï¿½ÉŒÄ‚Ñoï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½Bï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Æƒï¿½ï¿½Cï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½vï¿½Ì‹Nï¿½ï¿½ï¿½ï¿½ï¿½sï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
----------------------------------------------------------------------------------------*/
function Execute(){
  // ï¿½ï¿½ï¿½Wï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½Ìï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
  gStartTime = new Date();
  gFrames = 0;
  gInputs = []; for(var i = 0; i < 256; i++) gInputs.push(-1);
  // ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Bï¿½Ä‚Ñoï¿½ï¿½ï¿½ï¿½ï¿½Å’ï¿½`ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
  Setup();
  // ï¿½^ï¿½Cï¿½}ï¿½[ï¿½Nï¿½ï¿½
  gTimer = setInterval('MainLoop()', LOOP_INTERVAL)
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½Iï¿½uï¿½Wï¿½Fï¿½Nï¿½g: ï¿½ï¿½ï¿½Cï¿½ï¿½ï¿½[ ï¿½ï¿½ï¿½ï¿½

 div ï¿½^ï¿½Oï¿½ï¿½ï¿½Åwï¿½è‚µï¿½ï¿½ï¿½uï¿½ï¿½ï¿½bï¿½Nï¿½ï¿½ï¿½ï¿½ï¿½Cï¿½ï¿½ï¿½[ï¿½Æ‚ï¿½ï¿½Äˆï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½Bï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½A<id>ï¿½É‚Íƒuï¿½ï¿½ï¿½bï¿½Nï¿½ï¿½ id
 ï¿½ï¿½ï¿½wï¿½è‚µï¿½Ä‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½(<div id="my_layer"> ï¿½ï¿½ my_layer ï¿½Ì•ï¿½ï¿½ï¿½)ï¿½B
----------------------------------------------------------------------------------------*/
function Layer(id){
  this.layer = document.getElementById(id);
  /*
  ï¿½ï¿½ï¿½ï¿½ï¿½Åï¿½Îï¿½ï¿½Wï¿½wï¿½ï¿½É‚ï¿½ï¿½Ä‚ï¿½ï¿½Ü‚ï¿½ï¿½ï¿½ï¿½Aï¿½Å‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½ï¿½ï¿½ÄƒXï¿½^ï¿½Cï¿½ï¿½ï¿½Vï¿½[ï¿½gï¿½Åï¿½Îï¿½ï¿½Wï¿½wï¿½ï¿½É‚ï¿½ï¿½Ä‚ï¿½
  ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Bï¿½ï¿½: <div id="my_layer" style="position: absolute;"></div>
  */
  this.layer.style.position = "absolute";
}
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½\ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½
----------------------------------------------------------------------------------------*/
Layer.prototype.Show = function(){
  this.layer.style.visibility = "visible";
};
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½Bï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½
----------------------------------------------------------------------------------------*/
Layer.prototype.Hide = function(){
  this.layer.style.visibility = "hidden";
};
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½wï¿½ï¿½Ê’uï¿½ÉˆÚ“ï¿½ ï¿½ï¿½ï¿½ï¿½
----------------------------------------------------------------------------------------*/
Layer.prototype.MoveTo = function(x, y){
  this.layer.style.left = x;
  this.layer.style.top = y;
};
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½wï¿½ï¿½Ê‚ï¿½ï¿½ï¿½ï¿½Ú“ï¿½ ï¿½ï¿½ï¿½ï¿½
----------------------------------------------------------------------------------------*/
Layer.prototype.MoveBy = function(dX, dY){
  this.layer.style.left = parseFloat(this.layer.style.left) + dX;
  this.layer.style.top = parseFloat(this.layer.style.top) + dY;
};
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½Tï¿½Cï¿½Yï¿½ÏX ï¿½ï¿½ï¿½ï¿½
----------------------------------------------------------------------------------------*/
Layer.prototype.ResizeTo = function(width, height){
  this.layer.style.width = width;
  this.layer.style.height = height;
};
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½Î’lï¿½ï¿½ï¿½wï¿½è‚µï¿½ÄƒTï¿½Cï¿½Yï¿½ÏX ï¿½ï¿½ï¿½ï¿½
----------------------------------------------------------------------------------------*/
Layer.prototype.ResizeBy = function(dWidth, dHeight){
  this.layer.style.width = parseFloat(this.layer.style.width) + dWidth;
  this.layer.style.height = parseFloat(this.layer.style.height) + dHeight;
};
/*----------------------------------------------------------------------------------------
 ï¿½ï¿½ï¿½ï¿½ ï¿½eï¿½Lï¿½Xï¿½g( HTML ï¿½\ï¿½[ï¿½X)ï¿½Ì‹Lï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½

 ï¿½ï¿½ï¿½Cï¿½ï¿½ï¿½[ï¿½ï¿½<text>ï¿½ï¿½ï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B<overwrites>=true ï¿½È‚ï¿½Îã‘ï¿½ï¿½ï¿½Afalse ï¿½È‚ï¿½Î’Ç‰ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
----------------------------------------------------------------------------------------*/
Layer.prototype.Write = function(text, overwrites){
  overwrites = InitArg(overwrites, true);

  if(overwrites) this.layer.innerHTML = text;
  else this.layer.innerHTML += text;
};
